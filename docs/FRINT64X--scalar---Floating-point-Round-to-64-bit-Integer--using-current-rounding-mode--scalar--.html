<html>
 <head>  <link rel="stylesheet" href="../def-style.css"></head> 
 <body> 
  <h2>FRINT64X (scalar)</h2> 
  <p>Floating-point Round to 64-bit Integer, using current rounding mode (scalar). This instruction rounds a floating-point value in the SIMD&amp;FP source register to an integral floating-point value that fits into a 64-bit integer size using the rounding mode that is determined by the <em>FPCR</em>, and writes the result to the SIMD&amp;FP destination register.</p> 
  <p>A zero input returns a zero result with the same sign. When the result value is not numerically equal to the input value, an Inexact exception is raised. When the input is infinite, NaN or out-of-range, the instruction returns {for the corresponding result value} the most negative integer representable in the destination size, and an Invalid Operation floating-point exception is raised.</p> 
  <p>A floating-point exception can be generated by this instruction. Depending on the settings in <em>FPCR</em>, the exception results in either a flag being set in <em>FPSR</em>, or a synchronous exception being generated. For more information, see <em>Floating-point exception traps</em>.</p> 
  <p>Depending on the settings in the <em>CPACR_EL1</em>, <em>CPTR_EL2</em>, and <em>CPTR_EL3</em> registers, and the current Security state and Exception level, an attempt to execute the instruction might be trapped.</p> 
  <h3><a id="iclass_float"></a>Floating-point<span><br></br>(FEAT_FRINTTS) </span></h3> 
  <p></p> 
  <div> 
   <table> 
    <thead> 
     <tr> 
      <td>31</td> 
      <td>30</td> 
      <td>29</td> 
      <td>28</td> 
      <td>27</td> 
      <td>26</td> 
      <td>25</td> 
      <td>24</td> 
      <td>23</td> 
      <td>22</td> 
      <td>21</td> 
      <td>20</td> 
      <td>19</td> 
      <td>18</td> 
      <td>17</td> 
      <td>16</td> 
      <td>15</td> 
      <td>14</td> 
      <td>13</td> 
      <td>12</td> 
      <td>11</td> 
      <td>10</td> 
      <td>9</td> 
      <td>8</td> 
      <td>7</td> 
      <td>6</td> 
      <td>5</td> 
      <td>4</td> 
      <td>3</td> 
      <td>2</td> 
      <td>1</td> 
      <td>0</td> 
     </tr> 
    </thead> 
    <tbody> 
     <tr> 
      <td>0</td> 
      <td>0</td> 
      <td>0</td> 
      <td>1</td> 
      <td>1</td> 
      <td>1</td> 
      <td>1</td> 
      <td>0</td> 
      <td>0</td> 
      <td>x</td> 
      <td>1</td> 
      <td>0</td> 
      <td>1</td> 
      <td>0</td> 
      <td>0</td> 
      <td>1</td> 
      <td>1</td> 
      <td>1</td> 
      <td>0</td> 
      <td>0</td> 
      <td>0</td> 
      <td>0</td> 
      <td colspan="5">Rn</td> 
      <td colspan="5">Rd</td> 
     </tr> 
     <tr> 
      <td></td> 
      <td></td> 
      <td></td> 
      <td colspan="5"></td> 
      <td colspan="2">ftype</td> 
      <td></td> 
      <td colspan="4"></td> 
      <td colspan="2">op</td> 
      <td colspan="5"></td> 
      <td colspan="5"></td> 
      <td colspan="5"></td> 
     </tr> 
    </tbody> 
   </table> 
  </div> 
  <div> 
   <h4>Single-precision<span> (ftype == 00)</span></h4> 
   <a id="FRINT64X_S_floatdp1"></a> 
   <p>FRINT64X <a title="32-bit SIMD&amp;FP destination register (field &quot;Rd&quot;)" class="document-topic">&lt;Sd&gt;</a>, <a title="32-bit SIMD&amp;FP source register (field &quot;Rn&quot;)" class="document-topic">&lt;Sn&gt;</a></p> 
  </div> 
  <div> 
   <h4>Double-precision<span> (ftype == 01)</span></h4> 
   <a id="FRINT64X_D_floatdp1"></a> 
   <p>FRINT64X <a title="64-bit SIMD&amp;FP destination register (field &quot;Rd&quot;)" class="document-topic">&lt;Dd&gt;</a>, <a title="64-bit SIMD&amp;FP source register (field &quot;Rn&quot;)" class="document-topic">&lt;Dn&gt;</a></p> 
  </div> 
  <pre>if !<a title="function: boolean HaveFrintExt()" class="document-topic">HaveFrintExt</a>() then UNDEFINED;
integer d = <a title="function: integer UInt(bits(N) x)" class="document-topic">UInt</a>(Rd);
integer n = <a title="function: integer UInt(bits(N) x)" class="document-topic">UInt</a>(Rn);

integer esize;
case ftype of
    when '00' esize = 32;
    when '01' esize = 64;
    when '1x' UNDEFINED;

integer intsize = if op&lt;1&gt; == '0' then 32 else 64;

<a title="enumeration FPRounding  {FPRounding_TIEEVEN, FPRounding_POSINF, FPRounding_NEGINF,  FPRounding_ZERO, FPRounding_TIEAWAY, FPRounding_ODD}" class="document-topic">FPRounding</a> rounding = if op&lt;0&gt; == '0' then <a title="enumeration FPRounding  {FPRounding_TIEEVEN, FPRounding_POSINF, FPRounding_NEGINF,  FPRounding_ZERO, FPRounding_TIEAWAY, FPRounding_ODD}" class="document-topic">FPRounding_ZERO</a> else <a title="function: FPRounding FPRoundingMode(FPCRType fpcr)" class="document-topic">FPRoundingMode</a>(FPCR[]);</pre> 
  <div></div> 
  <h3>Assembler Symbols</h3> 
  <div> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Dd&gt;</td> 
      <td><a id="sa_dd"></a> <p>Is the 64-bit name of the SIMD&amp;FP destination register, encoded in the "Rd" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Dn&gt;</td> 
      <td><a id="sa_dn"></a> <p>Is the 64-bit name of the SIMD&amp;FP source register, encoded in the "Rn" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Sd&gt;</td> 
      <td><a id="sa_sd"></a> <p>Is the 32-bit name of the SIMD&amp;FP destination register, encoded in the "Rd" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Sn&gt;</td> 
      <td><a id="sa_sn"></a> <p>Is the 32-bit name of the SIMD&amp;FP source register, encoded in the "Rn" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
  </div> 
  <div></div> 
  <div> 
   <a id="execute"></a> 
   <h3>Operation</h3> 
   <pre><a title="function: CheckFPEnabled64()" class="document-topic">CheckFPEnabled64</a>();

<a title="type FPCRType" class="document-topic">FPCRType</a> fpcr    = FPCR[];
boolean merge    = <a title="function: boolean IsMerging(FPCRType fpcr)" class="document-topic">IsMerging</a>(fpcr);
bits(128) result = if merge then <a title="accessor: bits(width) V[integer n, integer width]" class="document-topic">V</a>[d, 128] else <a title="function: bits(N) Zeros(integer N)" class="document-topic">Zeros</a>(128);
bits(esize) operand = <a title="accessor: bits(width) V[integer n, integer width]" class="document-topic">V</a>[n, esize];

<a title="accessor: Elem[bits(N) &amp;vector, integer e, integer size] = bits(size) value" class="document-topic">Elem</a>[result, 0, esize] = <a title="function: bits(N) FPRoundIntN(bits(N) op, FPCRType fpcr, FPRounding rounding, integer intsize)" class="document-topic">FPRoundIntN</a>(operand, fpcr, rounding, intsize);

<a title="accessor: V[integer n, integer width] = bits(width) value" class="document-topic">V</a>[d, 128] = result;</pre> 
  </div>  
 </body>
</html>