<html>
 <head>  <link rel="stylesheet" href="../def-style.css"></head> 
 <body> 
  <h2>FCMPE</h2> 
  <p>Floating-point signaling Compare (scalar). This instruction compares the two SIMD&amp;FP source register values, or the first SIMD&amp;FP source register value and zero. It writes the result to the <em>PSTATE</em>.{N, Z, C, V} flags.</p> 
  <p>This instruction raises an Invalid Operation floating-point exception if either or both of the operands is any type of NaN.</p> 
  <p>A floating-point exception can be generated by this instruction. Depending on the settings in <em>FPCR</em>, the exception results in either a flag being set in <em>FPSR</em>, or a synchronous exception being generated. For more information, see <em>Floating-point exception traps</em>.</p> 
  <p>Depending on the settings in the <em>CPACR_EL1</em>, <em>CPTR_EL2</em>, and <em>CPTR_EL3</em> registers, and the current Security state and Exception level, an attempt to execute the instruction might be trapped.</p> 
  <p></p> 
  <div> 
   <table> 
    <thead> 
     <tr> 
      <td>31</td> 
      <td>30</td> 
      <td>29</td> 
      <td>28</td> 
      <td>27</td> 
      <td>26</td> 
      <td>25</td> 
      <td>24</td> 
      <td>23</td> 
      <td>22</td> 
      <td>21</td> 
      <td>20</td> 
      <td>19</td> 
      <td>18</td> 
      <td>17</td> 
      <td>16</td> 
      <td>15</td> 
      <td>14</td> 
      <td>13</td> 
      <td>12</td> 
      <td>11</td> 
      <td>10</td> 
      <td>9</td> 
      <td>8</td> 
      <td>7</td> 
      <td>6</td> 
      <td>5</td> 
      <td>4</td> 
      <td>3</td> 
      <td>2</td> 
      <td>1</td> 
      <td>0</td> 
     </tr> 
    </thead> 
    <tbody> 
     <tr> 
      <td>0</td> 
      <td>0</td> 
      <td>0</td> 
      <td>1</td> 
      <td>1</td> 
      <td>1</td> 
      <td>1</td> 
      <td>0</td> 
      <td colspan="2">ftype</td> 
      <td>1</td> 
      <td colspan="5">Rm</td> 
      <td>0</td> 
      <td>0</td> 
      <td>1</td> 
      <td>0</td> 
      <td>0</td> 
      <td>0</td> 
      <td colspan="5">Rn</td> 
      <td>1</td> 
      <td>x</td> 
      <td>0</td> 
      <td>0</td> 
      <td>0</td> 
     </tr> 
     <tr> 
      <td></td> 
      <td></td> 
      <td></td> 
      <td colspan="5"></td> 
      <td colspan="2"></td> 
      <td></td> 
      <td colspan="5"></td> 
      <td colspan="2"></td> 
      <td colspan="4"></td> 
      <td colspan="5"></td> 
      <td colspan="2">opc</td> 
      <td colspan="3"></td> 
     </tr> 
    </tbody> 
   </table> 
  </div> 
  <div> 
   <h4>Half-precision<span> (ftype == 11 &amp;&amp; opc == 10)</span><span><br></br>(FEAT_FP16) </span></h4> 
   <a id="FCMPE_H_floatcmp"></a> 
   <p>FCMPE <a title="First 16-bit SIMD&amp;FP source register (field &quot;Rn&quot;)" class="document-topic">&lt;Hn&gt;</a>, <a title="Second 16-bit SIMD&amp;FP source register (field &quot;Rm&quot;)" class="document-topic">&lt;Hm&gt;</a></p> 
  </div> 
  <div> 
   <h4>Half-precision, zero<span> (ftype == 11 &amp;&amp; Rm == (00000) &amp;&amp; opc == 11)</span><span><br></br>(FEAT_FP16) </span></h4> 
   <a id="FCMPE_HZ_floatcmp"></a> 
   <p>FCMPE <a title="16-bit SIMD&amp;FP source register (field &quot;Rn&quot;)" class="document-topic">&lt;Hn&gt;</a>, #0.0</p> 
  </div> 
  <div> 
   <h4>Single-precision<span> (ftype == 00 &amp;&amp; opc == 10)</span></h4> 
   <a id="FCMPE_S_floatcmp"></a> 
   <p>FCMPE <a title="First 32-bit SIMD&amp;FP source register (field &quot;Rn&quot;)" class="document-topic">&lt;Sn&gt;</a>, <a title="Second 32-bit SIMD&amp;FP source register (field &quot;Rm&quot;)" class="document-topic">&lt;Sm&gt;</a></p> 
  </div> 
  <div> 
   <h4>Single-precision, zero<span> (ftype == 00 &amp;&amp; Rm == (00000) &amp;&amp; opc == 11)</span></h4> 
   <a id="FCMPE_SZ_floatcmp"></a> 
   <p>FCMPE <a title="32-bit SIMD&amp;FP source register (field &quot;Rn&quot;)" class="document-topic">&lt;Sn&gt;</a>, #0.0</p> 
  </div> 
  <div> 
   <h4>Double-precision<span> (ftype == 01 &amp;&amp; opc == 10)</span></h4> 
   <a id="FCMPE_D_floatcmp"></a> 
   <p>FCMPE <a title="First 64-bit SIMD&amp;FP source register (field &quot;Rn&quot;)" class="document-topic">&lt;Dn&gt;</a>, <a title="Second 64-bit SIMD&amp;FP source register (field &quot;Rm&quot;)" class="document-topic">&lt;Dm&gt;</a></p> 
  </div> 
  <div> 
   <h4>Double-precision, zero<span> (ftype == 01 &amp;&amp; Rm == (00000) &amp;&amp; opc == 11)</span></h4> 
   <a id="FCMPE_DZ_floatcmp"></a> 
   <p>FCMPE <a title="64-bit SIMD&amp;FP source register (field &quot;Rn&quot;)" class="document-topic">&lt;Dn&gt;</a>, #0.0</p> 
  </div> 
  <pre>integer n = <a title="function: integer UInt(bits(N) x)" class="document-topic">UInt</a>(Rn);
integer m = <a title="function: integer UInt(bits(N) x)" class="document-topic">UInt</a>(Rm);   // ignored when opc&lt;0&gt; == '1'

integer datasize;
case ftype of
    when '00' datasize = 32;
    when '01' datasize = 64;
    when '10' UNDEFINED;
    when '11'
        if <a title="function: boolean HaveFP16Ext()" class="document-topic">HaveFP16Ext</a>() then
            datasize = 16;
        else
            UNDEFINED;

boolean signal_all_nans = (opc&lt;1&gt; == '1');
boolean cmp_with_zero = (opc&lt;0&gt; == '1');</pre> 
  <div></div> 
  <h3>Assembler Symbols</h3> 
  <div> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Dn&gt;</td> 
      <td><a id="sa_dn_1"></a> <p>For the double-precision variant: is the 64-bit name of the first SIMD&amp;FP source register, encoded in the "Rn" field.</p> </td> 
     </tr> 
     <tr> 
      <td></td> 
      <td><a id="sa_dn"></a> <p>For the double-precision, zero variant: is the 64-bit name of the SIMD&amp;FP source register, encoded in the "Rn" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Dm&gt;</td> 
      <td><a id="sa_dm"></a> <p>Is the 64-bit name of the second SIMD&amp;FP source register, encoded in the "Rm" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Hn&gt;</td> 
      <td><a id="sa_hn_1"></a> <p>For the half-precision variant: is the 16-bit name of the first SIMD&amp;FP source register, encoded in the "Rn" field.</p> </td> 
     </tr> 
     <tr> 
      <td></td> 
      <td><a id="sa_hn"></a> <p>For the half-precision, zero variant: is the 16-bit name of the SIMD&amp;FP source register, encoded in the "Rn" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Hm&gt;</td> 
      <td><a id="sa_hm"></a> <p>Is the 16-bit name of the second SIMD&amp;FP source register, encoded in the "Rm" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Sn&gt;</td> 
      <td><a id="sa_sn_1"></a> <p>For the single-precision variant: is the 32-bit name of the first SIMD&amp;FP source register, encoded in the "Rn" field.</p> </td> 
     </tr> 
     <tr> 
      <td></td> 
      <td><a id="sa_sn"></a> <p>For the single-precision, zero variant: is the 32-bit name of the SIMD&amp;FP source register, encoded in the "Rn" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
   <table> 
    <colgroup> 
     <col></col> 
     <col></col> 
    </colgroup> 
    <tbody> 
     <tr> 
      <td>&lt;Sm&gt;</td> 
      <td><a id="sa_sm"></a> <p>Is the 32-bit name of the second SIMD&amp;FP source register, encoded in the "Rm" field.</p> </td> 
     </tr> 
    </tbody> 
   </table> 
  </div> 
  <div></div> 
  <div> 
   <a id="execute"></a> 
   <h3>Operation</h3> 
   <pre><a title="function: CheckFPEnabled64()" class="document-topic">CheckFPEnabled64</a>();

bits(datasize) operand1 = <a title="accessor: bits(width) V[integer n, integer width]" class="document-topic">V</a>[n, datasize];
bits(datasize) operand2;

operand2 = if cmp_with_zero then <a title="function: bits(N) FPZero(bit sign, integer N)" class="document-topic">FPZero</a>('0', datasize) else <a title="accessor: bits(width) V[integer n, integer width]" class="document-topic">V</a>[m, datasize];

PSTATE.&lt;N,Z,C,V&gt; = <a title="function: bits(4) FPCompare(bits(N) op1, bits(N) op2, boolean signal_nans, FPCRType fpcr)" class="document-topic">FPCompare</a>(operand1, operand2, signal_all_nans, FPCR[]);</pre> 
  </div> 
  <h3>Operational information</h3> 
  <p>The IEEE 754 standard specifies that the result of a comparison is precisely one of &lt;, ==, &gt; or unordered. If either or both of the operands is a NaN, they are unordered, and all three of (Operand1 &lt; Operand2), (Operand1 == Operand2) and (Operand1 &gt; Operand2) are false. An unordered comparison sets the <em>PSTATE</em> condition flags to N=0, Z=0, C=1, and V=1.</p> 
  <p>If FEAT_SME is implemented and the PE is in Streaming SVE mode, then any subsequent instruction which is dependent on the NZCV condition flags written by this instruction might be significantly delayed.</p>  
 </body>
</html>